{{#> layouts/base }}
    {{#*inline "content"}}

        <form id="order-info" action="/action_page.php">
            <div class="form-group">
                <label>Full name:</label>
                <input type="text" class="form-control" id="name">
            </div>
            <div class="form-group">
                <label>Email:</label>
                <input type="email" class="form-control" id="email">
            </div>
            <div class="form-group">
                <label>Address:</label>
                <input type="text" class="form-control" id="address">
            </div>
            <div class="form-group">
                <label>Phone number:</label>
                <input type="text" class="form-control" id="phone">
            </div>
            <div style="float: right; text-align: right">
                <h3>
                    Notional price: {{notionalPrice}}
                </h3>
                <h3>
                    Discount: {{discount}}
                </h3>
                <h3>
                    <span style="color: red">Total:</span> <span id="total">{{total}}</span>
                </h3>
            </div>
            <div class="clearfix"></div>
            <button type="submit" class="btn btn-success" style="float: right; margin-top: 10px">Submit</button>
        </form>

        <script>
            $(document).ready(function () {
                $('#order-info').submit(function () {
                    event.preventDefault();
                    var name = $('#name').val();
                    var email = $('#email').val();
                    var address = $('#address').val();
                    var phone = $('#phone').val();
                    var total = $('#total').text();
                    $.ajax({
                        type: "POST",
                        url: "/check-out",
                        data: {
                            name: name,
                            email: email,
                            address: address,
                            phone: phone,
                            total: total
                        },
                        success: function (response) {
                            if(!alert(response)) {
                                window.location.replace("http:localhost:8080/");
                            }
                        }
                    });
                });
            });
        </script>

    {{/inline}}
{{/layouts/base}}